<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">

  {%- include head.html -%}

  <body>

    {%- include header.html -%}

    {%- include search.html -%}

    <main class="page-content {% if page.sidebar %}main-with-sidebar{% endif %}" aria-label="Content">
      {% if page.sidebar %}
        <div class="{% if page.sidebar %}column sidebar{% endif %}">
          <h3>{% if page.sidebar == "sps" %}Semantic Paths Specification
              {% elsif page.sidebar == "tm" %}Target Model{% endif %}
          </h3>
          <ul class="mainlist">
            {% for item in site.data.sidetoc[page.sidebar] %}
              {% assign item_url = "/collections-model" | append: item.url %}
              <li class="{{ item.lang }}">
                <a href="{{ item_url }}" class="{% if item.url == page.url %}active{% endif %}">{{ item.title }}
                  <span class="tooltip">{{ item.title }}</span>
                </a>
                {% if item.subfolder[0] %}
                  <ul class="sublist" style="{% if item.url != page.url %}display:none{% endif %}">
                  {% for entry in item.subfolder %}
                    {% assign entry_url = "/collections-model" | append: entry.url %}
                    <li class="{{ entry.lang }}">
                      <a id="toc-{{ entry.hash }}" href="{{ entry_url }}" onclick="active(this)">{{ entry.page }}
                        <span class="tooltip">{{ entry.page }}</span>
                      </a>
                      
                      {% if entry.subsubfolder[0] %}
                        <ul class="subsublist" style="{% if item.url != page.url %}display:none{% endif %}">
                        {% for subentry in entry.subsubfolder %}
                          {% assign subentry_url = "/collections-model" | append: subentry.url %}
                          <li>
                            <a id="toc-{{ subentry.hash }}" href="{{ subentry_url }}" onclick="active(this)">{{ subentry.page }}
                              <span class="tooltip">{{ subentry.page }}</span>
                            </a>
                            
                          </li>
                        {% endfor %}
                        </ul>
                      {% endif %}
                    </li>
                  {% endfor %}
                  </ul>
                {% endif %}
              </li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}
      
      <div class="column content">
        <div class="
          {% if page.sidebar %}main-content
          {% else %}wrapper
          {% endif %}">
          {{ content }}
        </div>

        {%- include footer.html -%}
      </div>
    </main>

    <script type="text/javascript">

      // show/hide search modal
      $("#search-icon").on("click", function(){
        $("#search-modal").show();
      });

      $("#search-close").on("click", function(){
        $("#search-modal").hide();
      });

      $(document).on("click", function(event){
        if ($(event.target).hasClass("modal")){
          $("#search-modal").hide();
        }
      });

     

      // switching language by clicking language button
      $(".lang-buttons>button").click(function(){
        $(this).siblings().removeClass("activate");
        $(this).addClass("activate");
        // content_by_lang(this);
        var button_id = $(this).attr("id");
        if (button_id == "en-fr"){
          $("td.en").show();
          $("td.en").css("border","none");
        } else {$("td.en").hide()}
      });
      
    </script>
  </body>

</html>